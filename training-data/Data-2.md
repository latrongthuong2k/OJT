# 要件定義書（サンプル）

## 目的
本ドキュメントは売り上げ管理と経理システムの自動連携を実現させるシステム開発に関する要件定義書になります。

## 概要
### システム方式・構成
システム構成は次の通りです。なお、新たなハードウェア導入は予定していません。

- **アプリケーションサーバー**: 自動連携設定を行う画面、連携結果を表示する画面を提供します。
- **データベースサーバー**: 既存の社内サーバーです。
- **経理システム**: 現在経理部で使われている経理システムおよび専用のワークステーションです。

### 用語定義
- **経理システム**: 社内で用いている経理システム○○のことを指します。
- **社内システム**: 社内で用いられている共通システムを指します。
- **バッチ**: 定期的に自動実行されるシステムを指します。
- **ログ**: ここではバッチシステムによって出力される処理結果を指します。

## 業務要件
### 現状のフロー
現状のフローは次のようになっています。

1. 経理担当者がシステム開発部門に売り上げ出力を依頼
2. システム開発部門が売り上げデータをCSV出力して、メールで送信
3. 経理担当者がCSVをExcelで開いて編集
4. 経理担当者が経理システムへログイン
5. 経理システムのインポート機能でCSVデータを取り込み

### 構築後のフロー
システム構築後、フローは次のようになります。

1. 経理担当者が専用画面にて自動取り込みに関して設定
2. バッチシステムが自動処理後、経理担当者にメールで完了を通知
3. 経理担当者が経理システムへログイン
4. 取り込み未確定データを確認後、経理システムにて確定処理を実行

### 利用者一覧
- 経理担当者

### 規模
2人月（エンジニア1人×2）の予定です。

## 機能要件
### 画面
- **バッチ処理設定画面**: バッチの有効または無効、頻度、処理完了後に送信するメールアドレスを設定する画面です。
- **バッチ処理結果一覧画面**: バッチ処理の履歴一覧を確認する画面です。
- **バッチ処理結果詳細画面**: ある時に行われたバッチ処理の結果を確認する画面です。

### 権限
- バッチ処理設定は経理担当者のみ可能とします。
- バッチ処理結果は経理担当者および経理システム担当者のみ閲覧可能とします。

### 帳票
本システムでは以下のメールおよび帳票が出力されます。

- バッチ処理結果メール
- バッチ処理結果詳細レポート

### 情報・データ
本システムでは以下のデータが作成されます。

- 経理システムに取り込める形での売り上げデータのエクスポートデータ
- CSVデータで一時出力されます。処理後、削除されます。
- 経理システムへのインポートログデータ
- 経理システムへのインポート処理に関する詳細なログデータがデータベースに保存されます。
- 経理システムへの未確定インポートデータ
- 経理システムへは未確定データとしてインポートされます。その内容を経理担当者が確認後、取り込み処理を確定します。

### 外部インタフェース
- **メール**: 経理担当者へのバッチ処理完了を通知します。
- **Slack**: バッチ処理が失敗した時にシステム管理者グループへ通知されます。
- **CSV処理**: 経理システムへ接続してAPIを通じてインポート処理を実行します。

### データフロー
本システムのデータ処理は次のようになります。

1. バッチシステムが売り上げマスターより対象となるデータを抽出
2. バッチシステムが抽出したデータを経理システムへ取り込めるように加工
3. バッチシステムが経理システムへ接続
4. バッチシステムが経理システムへデータを送出
5. バッチシステムがログをログテーブルに記述
6. バッチシステムが経理担当者へバッチ処理完了のメールを送信
7. バッチシステムが対象の売り上げマスターデータへインポート完了のフラグ立て

## 非機能要件
### 互換性
過去システムとの互換性は維持されます。なお経理システムのバージョンは12.0.0を対象としています。マイナーアップデートは問題ないと思われますが、メジャーアップデートのタイミングでAPIが変更される可能性はあります。

## スケジュール
| 日付 | 内容 |
| ---- | ---- |
| 2022年04月10日まで | 要件確認 |
| 2022年04月20日まで | 開発 |
| 2022年04月30日まで | テスト |
| 2022年05月10日まで | テスト結果に伴う調整 |
| 2022年05月20日まで | 再度テスト |
| 2022年05月31日まで | 開発完了およびデプロイ |

## 予算
- 100万円

---

## 備考
本ドキュメントはプロジェクトの初期段階において作成されたものであり、プロジェクトの進行に伴い、内容が変更される可能性があります。変更があった場合は、関係者に通知され、ドキュメントが更新されます。

## 承認
- **プロジェクトマネージャー**: [名前]
- **システム開発部門責任者**: [名前]
- **経理部門責任者**: [名前]

---

本ドキュメントはプロジェクトの成功に向けて重要な役割を果たします。全ての関係者はこの要件定義に基づき、協力して作業を進めることが期待されます。

